<div *ngIf="user; else userNotLoggedIn">
  <div class="container">
    <div class="row align-items-start" cdkDropListGroup>
      <div
        class="col-sm border-radius-lg bg-light mr-1"
        cdkDropList
        #todoList="cdkDropList"
        [cdkDropListData]="tasks.todo"
        (cdkDropListDropped)="drop($event)"
      >
        <h6 class="card-title text-uppercase text-truncate pl-2 pt-3">
          <div class="status-red"></div>
          To Do
        </h6>
        <div class="card mb-3" *ngIf="tasks.todo.length == 0 ">
          <div class="card-body p-3 mb-0">
            <h6 class="mb-0">Add a course to start learning!</h6>
            <p class="text-muted small mb-0">
              You may add any course available or else request a new course with URL. We will notify you back once when it is available.
            </p>
            <div class="author align-items-center">

              <div class="name">
                <i class="fas fa-user-shield mr-1"></i>
                <span>Admin</span>
                
              </div>
            </div>
          </div>
        </div>
        <div *ngFor="let task of tasks.todo" cdkDrag>
          <a
            href="{{ task.videoLink }}"
            target="_blank"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-container="body"
            data-animation="true"
            title="{{ task.moduleDescription }}"
          >
            <div class="card mb-3">
              <div class="card-body p-3 mb-0">
                <h6 class="mb-0">{{ task.moduleTitle }}</h6>
                <p class="text-muted small mb-0">
                  {{ task.moduleDescription | slice: 0:50 }}...
                </p>
                <div class="author align-items-center">
                  <img
                    src="../../../assets/img/sign-up.png"
                    alt="..."
                    class="avatar rounded-circle"
                  />
                  <div class="name ps-3">
                    <span>{{ task.courseName }}</span>
                    <div class="stats">
                      <small
                        ><i class="fas fa-user-shield mr-1"></i>
                        <span> {{ task.authorName }}</span></small
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>
      <div
        class="col-sm border-radius-lg bg-light ml-1 mr-1"
        cdkDropList
        #todoList="cdkDropList"
        [cdkDropListData]="tasks.doing"
        (cdkDropListDropped)="drop($event)"
      >
        <h6 class="card-title text-uppercase text-truncate pl-2 pt-3">
          <div class="status-blue"></div>
          Doing
        </h6>
        <div *ngFor="let task of tasks.doing" cdkDrag>
          <a
            href="{{ task.videoLink }}"
            target="_blank"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-container="body"
            data-animation="true"
            title="{{ task.moduleDescription }}"
          >
            <div class="card mb-3">
              <div class="card-body p-3 mb-0">
                <h6 class="mb-0">{{ task.moduleTitle }}</h6>
                <p class="text-muted small mb-0">
                  {{ task.moduleDescription | slice: 0:50 }}...
                </p>
                <div class="author align-items-center">
                  <img
                    src="../../../assets/img/sign-up.png"
                    alt="..."
                    class="avatar rounded-circle"
                  />
                  <div class="name ps-3">
                    <span>{{ task.courseName }}</span>
                    <div class="stats">
                      <small
                        ><i class="fas fa-user-shield mr-1"></i>
                        <span> {{ task.authorName }}</span></small
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>
      <div
        class="col-sm border-radius-lg bg-light ml-1"
        cdkDropList
        #todoList="cdkDropList"
        [cdkDropListData]="tasks.done"
        (cdkDropListDropped)="drop($event)"
      >
        <h6 class="card-title text-uppercase text-truncate pl-2 pt-3">
          <div class="status-green"></div>
          Done
        </h6>
        <div *ngFor="let task of tasks.done" cdkDrag>
          <a
            href="{{ task.videoLink }}"
            target="_blank"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            data-container="body"
            data-animation="true"
            title="{{ task.moduleDescription }}"
          >
            <div class="card mb-3">
              <div class="card-body p-3 mb-0">
                <h6 class="mb-0 text-muted">
                  <del>{{ task.moduleTitle }}</del>
                </h6>
                <p class="text-muted small mb-0">
                  {{ task.moduleDescription | slice: 0:50 }}...
                </p>
                <div class="author align-items-center">
                  <img
                    src="../../../assets/img/sign-up.png"
                    alt="..."
                    class="avatar rounded-circle"
                  />
                  <div class="name ps-3">
                    <span>{{ task.courseName }}</span>
                    <div class="stats">
                      <small
                        ><i class="fas fa-user-shield mr-1"></i>
                        <span>{{ task.authorName }}</span></small
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #userNotLoggedIn>
  <div class="container">
    <img
      src="../../../assets/img/sign-up.png"
      alt=""
      class="rounded mx-auto d-block img-fluid"
    />
  </div>
</ng-template>
